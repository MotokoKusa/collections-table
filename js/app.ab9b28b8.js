(function(){"use strict";var t={9857:function(t,e,n){var l=n(9242),o=n(3396);function s(t,e){const n=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(n)}var i=n(89);const a={},u=(0,i.Z)(a,[["render",s]]);var d=u,c=n(2483);const r={class:"container"};function v(t,e,n,l,s,i){const a=(0,o.up)("base-table");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(a)])}var f=n(7139);const _=t=>((0,o.dD)("data-v-33c7f52e"),t=t(),(0,o.Cn)(),t),k={class:"form"},p={class:"form__input"},g=["type","name","placeholder","onUpdate:modelValue"],w=["onClick","name","disabled"],m={class:"collections"},b={class:"collections__item__text"},h=_((()=>(0,o._)("b",null,"uid:",-1))),y=_((()=>(0,o._)("b",null,"название:",-1))),I=["onClick"],D={class:"collections__item__text"},C=_((()=>(0,o._)("b",null,"uid:",-1))),E=_((()=>(0,o._)("b",null,"название:",-1))),S=["onClick"],U={key:0,class:"table"},O=_((()=>(0,o._)("th",null,"Задачи / Даты",-1))),Y=["onUpdate:modelValue"],z=["onClick"],H=["onChange"],T=["value"];function j(t,e,n,s,i,a){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",k,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.formInputs,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{class:"form__item",key:e},[(0,o._)("p",null,(0,f.zw)(s.INPUT_MESSAGES[t]),1),(0,o._)("div",p,[(0,o.wy)((0,o._)("input",{type:"dates"!==t?"text":"date",name:t,placeholder:s.INPUT_MESSAGES[t],"onUpdate:modelValue":e=>s.form[t]=e},null,8,g),[[l.YZ,s.form[t],void 0,{trim:!0}]]),(0,o._)("button",{onClick:e=>s.addCollection(t),name:t,disabled:!s.form[t]}," Добавить ",8,w)])])))),128))]),(0,o._)("div",m,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.collections,((t,e)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[t.length?((0,o.wg)(),(0,o.iD)("div",{key:e,class:"collections__wrap"},[(0,o._)("p",null,(0,f.zw)(s.INPUT_MESSAGES[e]),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"collections__item",key:t.id},["events"===e?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",b,[h,(0,o.Uk)(" "+(0,f.zw)(t.id)+" ",1),y,(0,o.Uk)(" "+(0,f.zw)(s.getValueById("dates",t.dateId).value)+" "+(0,f.zw)(s.getValueById("tasks",t.taskId).value)+" "+(0,f.zw)(s.getValueById("statuses",t.statusId).value),1)]),(0,o._)("button",{onClick:n=>s.deleteCollection(e,t.id),class:"collections__item__button"}," Удалить ",8,I)],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("div",D,[C,(0,o.Uk)(" "+(0,f.zw)(t.id)+" ",1),E,(0,o.Uk)(" "+(0,f.zw)(t.value),1)]),(0,o._)("button",{onClick:n=>s.deleteCollection(e,t.id),class:"collections__item__button"}," Удалить ",8,S)],64))])))),128))])):(0,o.kq)("",!0)],64)))),256))]),s.isEmptyCollections?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("table",U,[(0,o._)("thead",null,[(0,o._)("tr",null,[O,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.collections.dates,(t=>((0,o.wg)(),(0,o.iD)("th",{key:t.id},(0,f.zw)(t.value),1)))),128))])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.collections.tasks,(t=>((0,o.wg)(),(0,o.iD)("tr",{key:t.id},[(0,o._)("td",null,[(0,o.wy)((0,o._)("input",{name:"tableTask",type:"text","onUpdate:modelValue":e=>t.value=e},null,8,Y),[[l.nr,t.value]])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.collections.dates,(e=>((0,o.wg)(),(0,o.iD)("td",{key:e.id},[s.collections.statuses.length&&!s.findEvent({date:e,task:t})?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:n=>s.addEvent({taskId:t.id,dateId:e.id,statusId:s.collections.statuses[0].id})}," Добавить ",8,z)):(0,o.kq)("",!0),s.findEvent({date:e,task:t})?((0,o.wg)(),(0,o.iD)("select",{key:1,onChange:n=>s.changeEvent(n,{date:e,task:t})},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.collections.statuses,(t=>((0,o.wg)(),(0,o.iD)("option",{key:t.id,value:t.id},(0,f.zw)(t.value),9,T)))),128))],40,H)):(0,o.kq)("",!0)])))),128))])))),128))])]))])}n(7658);var x=n(4870),V=n(2083),K={name:"BaseTable",setup(){const t={tasks:"Задачи",dates:"Даты",statuses:"Статусы",events:"События"},e=["tasks","dates","statuses"],n=(0,x.qj)({tasks:[],dates:[],statuses:[],events:[]}),l=(0,x.qj)({}),s=(0,o.Fl)((()=>!n.tasks.length&&!n.dates.length)),i=t=>{n[t].push({id:(0,V.h)(4),value:l[t]}),l[t]=null},a=t=>{n.events.push({id:(0,V.h)(4),dateId:t.dateId,taskId:t.taskId,statusId:t.statusId})},u=(t,e)=>{const n=r(e);n.statusId=t.target.value},d=(t,e)=>n[t].find((t=>t.id===e))||"",c=(t,e)=>{if("events"!==t){const t=n.events.find((t=>t.taskId===e||t.dateId===e||t.statusId));n.events=n.events.filter((e=>e.id!==t.id))}n[t]=n[t].filter((t=>t.id!==e))},r=t=>n.events.find((e=>e.dateId===t.date.id&&e.taskId===t.task.id));return{INPUT_MESSAGES:t,addCollection:i,deleteCollection:c,collections:n,form:l,formInputs:e,addEvent:a,findEvent:r,changeEvent:u,getValueById:d,isEmptyCollections:s}}};const q=(0,i.Z)(K,[["render",j],["__scopeId","data-v-33c7f52e"]]);var B=q,M={components:{BaseTable:B}};const P=(0,i.Z)(M,[["render",v],["__scopeId","data-v-3ef10924"]]);var A=P;const G=[{path:"/",name:"table",component:A}],N=(0,c.p7)({history:(0,c.r5)(),routes:G});var Z=N,F=n(65),W=(0,F.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,l.ri)(d).use(W).use(Z).mount("#app")}},e={};function n(l){var o=e[l];if(void 0!==o)return o.exports;var s=e[l]={exports:{}};return t[l](s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,l,o,s){if(!l){var i=1/0;for(c=0;c<t.length;c++){l=t[c][0],o=t[c][1],s=t[c][2];for(var a=!0,u=0;u<l.length;u++)(!1&s||i>=s)&&Object.keys(n.O).every((function(t){return n.O[t](l[u])}))?l.splice(u--,1):(a=!1,s<i&&(i=s));if(a){t.splice(c--,1);var d=o();void 0!==d&&(e=d)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[l,o,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var l in e)n.o(e,l)&&!n.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,l){var o,s,i=l[0],a=l[1],u=l[2],d=0;if(i.some((function(e){return 0!==t[e]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(u)var c=u(n)}for(e&&e(l);d<i.length;d++)s=i[d],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(c)},l=self["webpackChunkcollections_table"]=self["webpackChunkcollections_table"]||[];l.forEach(e.bind(null,0)),l.push=e.bind(null,l.push.bind(l))}();var l=n.O(void 0,[998],(function(){return n(9857)}));l=n.O(l)})();
//# sourceMappingURL=app.ab9b28b8.js.map