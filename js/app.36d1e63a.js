(function(){"use strict";var t={3029:function(t,e,n){var l=n(9242),i=n(3396);function o(t,e){const n=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(n)}var s=n(89);const a={},u=(0,s.Z)(a,[["render",o]]);var d=u,r=n(2483);const c={class:"container"};function v(t,e,n,l,o,s){const a=(0,i.up)("base-table");return(0,i.wg)(),(0,i.iD)("div",c,[(0,i.Wm)(a)])}var f=n(7139);const k={class:"form"},p=["type","name","onUpdate:modelValue"],_=["onClick","name","disabled"],g={class:"collections"},w={class:"collections__item__text"},m=(0,i._)("b",null,"uid:",-1),b=(0,i._)("b",null,"название:",-1),y=["onClick"],h={class:"collections__item__text"},I=(0,i._)("b",null,"uid:",-1),D=(0,i._)("b",null,"название:",-1),C=["onClick"],H={key:0,class:"table"},O=(0,i._)("th",null,"Задачи / Даты",-1),E=["onUpdate:modelValue"],Y=["onClick"],j=["onChange"],x=["value"];function z(t,e,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",k,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.formInputs,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"form__input",key:e},[(0,i.wy)((0,i._)("input",{type:"dates"!==t?"text":"date",name:t,"onUpdate:modelValue":e=>o.form[t]=e},null,8,p),[[l.YZ,o.form[t],void 0,{trim:!0}]]),(0,i._)("button",{onClick:(0,l.iM)((e=>o.addCollection(t)),["prevent"]),name:t,disabled:!o.form[t]}," Добавить ",8,_)])))),128))]),(0,i._)("div",g,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.collections,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"collections__wrap",key:e},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"collections__item",key:t.id},["events"===e?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",w,[m,(0,i.Uk)(" "+(0,f.zw)(t.id)+" ",1),b,(0,i.Uk)(" "+(0,f.zw)(o.getValueById("dates",t.dateId).value)+" "+(0,f.zw)(o.getValueById("tasks",t.taskId).value)+" "+(0,f.zw)(o.getValueById("statuses",t.statusId).value),1)]),(0,i._)("button",{onClick:(0,l.iM)((n=>o.deleteCollection(e,t.id)),["prevent"]),class:"collections__item__button"}," Удалить ",8,y)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("div",h,[I,(0,i.Uk)(" "+(0,f.zw)(t.id)+" ",1),D,(0,i.Uk)(" "+(0,f.zw)(t.value),1)]),(0,i._)("button",{onClick:(0,l.iM)((n=>o.deleteCollection(e,t.id)),["prevent"]),class:"collections__item__button"}," Удалить ",8,C)],64))])))),128))])))),128))]),o.isEmptyCollections?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("table",H,[(0,i._)("thead",null,[(0,i._)("tr",null,[O,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.collections.dates,(t=>((0,i.wg)(),(0,i.iD)("th",{key:t.id},(0,f.zw)(t.value),1)))),128))])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.collections.tasks,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t.id},[(0,i._)("td",null,[(0,i.wy)((0,i._)("input",{name:"tableTask",type:"text","onUpdate:modelValue":e=>t.value=e},null,8,E),[[l.nr,t.value]])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.collections.dates,(e=>((0,i.wg)(),(0,i.iD)("td",{key:e.id},[o.collections.statuses.length&&!o.findEvent({date:e,task:t})?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:(0,l.iM)((n=>o.addEvent({taskId:t.id,dateId:e.id,statusId:o.collections.statuses[0].id})),["prevent"])}," Добавить ",8,Y)):(0,i.kq)("",!0),o.findEvent({date:e,task:t})?((0,i.wg)(),(0,i.iD)("select",{key:1,onChange:n=>o.changeEvent(n,{date:e,task:t})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.collections.statuses,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.id,value:t.id},(0,f.zw)(t.value),9,x)))),128))],40,j)):(0,i.kq)("",!0)])))),128))])))),128))])]))])}n(7658);var U=n(4870),V=n(2083),K={name:"BaseTable",setup(){const t=(0,U.qj)({tasks:[],dates:[],statuses:[],events:[]}),e=(0,U.iH)(!1),n=(0,U.iH)(""),l=(0,U.iH)(""),o=(0,U.iH)(""),s=(0,U.qj)({}),a=(0,i.Fl)((()=>["tasks","dates","statuses"])),u=(0,i.Fl)((()=>!t.tasks.length&&!t.dates.length)),d=e=>{t[e].push({id:(0,V.h)(4),value:s[e]}),s[e]=null},r=e=>{t.events.push({id:(0,V.h)(4),dateId:e.dateId,taskId:e.taskId,statusId:e.statusId})},c=(t,e)=>{const n=k(e);n.statusId=t.target.value},v=(e,n)=>t[e].find((t=>t.id===n))||"",f=(e,n)=>{if("events"!==e){const e=t.events.find((t=>t.taskId===n||t.dateId===n||t.statusId));t.events=t.events.filter((t=>t.id!==e.id))}t[e]=t[e].filter((t=>t.id!==n))},k=e=>t.events.find((t=>t.dateId===e.date.id&&t.taskId===e.task.id));return{currentTask:n,currentDate:l,currentStatus:o,addCollection:d,deleteCollection:f,isOpenedModal:e,collections:t,form:s,formInputs:a,addEvent:r,findEvent:k,changeEvent:c,getValueById:v,isEmptyCollections:u}}};const M=(0,s.Z)(K,[["render",z]]);var T=M,B={components:{BaseTable:T}};const q=(0,s.Z)(B,[["render",v]]);var Z=q;const F=[{path:"/",name:"table",component:Z}],P=(0,r.p7)({history:(0,r.r5)(),routes:F});var S=P,W=n(65),A=(0,W.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,l.ri)(d).use(A).use(S).mount("#app")}},e={};function n(l){var i=e[l];if(void 0!==i)return i.exports;var o=e[l]={exports:{}};return t[l](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,l,i,o){if(!l){var s=1/0;for(r=0;r<t.length;r++){l=t[r][0],i=t[r][1],o=t[r][2];for(var a=!0,u=0;u<l.length;u++)(!1&o||s>=o)&&Object.keys(n.O).every((function(t){return n.O[t](l[u])}))?l.splice(u--,1):(a=!1,o<s&&(s=o));if(a){t.splice(r--,1);var d=i();void 0!==d&&(e=d)}}return e}o=o||0;for(var r=t.length;r>0&&t[r-1][2]>o;r--)t[r]=t[r-1];t[r]=[l,i,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var l in e)n.o(e,l)&&!n.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,l){var i,o,s=l[0],a=l[1],u=l[2],d=0;if(s.some((function(e){return 0!==t[e]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(u)var r=u(n)}for(e&&e(l);d<s.length;d++)o=s[d],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(r)},l=self["webpackChunkcollections_table"]=self["webpackChunkcollections_table"]||[];l.forEach(e.bind(null,0)),l.push=e.bind(null,l.push.bind(l))}();var l=n.O(void 0,[998],(function(){return n(3029)}));l=n.O(l)})();
//# sourceMappingURL=app.36d1e63a.js.map